(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{363:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"echo-å¼€æºç¤¾åŒºç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#echo-å¼€æºç¤¾åŒºç³»ç»Ÿ"}},[t._v("#")]),t._v(" Echo â€” å¼€æºç¤¾åŒºç³»ç»Ÿ")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ“š-ä»æœ¬é¡¹ç›®ä½ èƒ½å­¦åˆ°ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“š-ä»æœ¬é¡¹ç›®ä½ èƒ½å­¦åˆ°ä»€ä¹ˆ"}},[t._v("#")]),t._v(" ğŸ“š ä»æœ¬é¡¹ç›®ä½ èƒ½å­¦åˆ°ä»€ä¹ˆ")]),t._v(" "),a("ul",[a("li",[t._v("å­¦ä¼šä¸»æµçš„ Java Web å¼€å‘æŠ€æœ¯å’Œæ¡†æ¶")]),t._v(" "),a("li",[t._v("ç§¯ç´¯ä¸€ä¸ªçœŸå®çš„ Web é¡¹ç›®å¼€å‘ç»éªŒ")]),t._v(" "),a("li",[t._v("æŒæ¡æœ¬é¡¹ç›®ä¸­æ¶‰åŠçš„å¸¸è§é¢è¯•é¢˜çš„ç­”é¢˜ç­–ç•¥")])]),t._v(" "),a("h2",{attrs:{id:"ğŸ’»-æ ¸å¿ƒæŠ€æœ¯æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’»-æ ¸å¿ƒæŠ€æœ¯æ ˆ"}},[t._v("#")]),t._v(" ğŸ’» æ ¸å¿ƒæŠ€æœ¯æ ˆ")]),t._v(" "),a("p",[t._v("åç«¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Spring")]),t._v(" "),a("li",[t._v("Spring Boot 2.1.5 RELEASE")]),t._v(" "),a("li",[t._v("Spring MVC")]),t._v(" "),a("li",[t._v("ORMï¼šMyBatis")]),t._v(" "),a("li",[t._v("æ•°æ®åº“ï¼šMySQL 5.7")]),t._v(" "),a("li",[t._v("æ—¥å¿—ï¼šSLF4Jï¼ˆæ—¥å¿—æ¥å£ï¼‰ + Logbackï¼ˆæ—¥å¿—å®ç°ï¼‰")]),t._v(" "),a("li",[t._v("åˆ†å¸ƒå¼ç¼“å­˜ï¼šRedis")]),t._v(" "),a("li",[t._v("æœ¬åœ°ç¼“å­˜ï¼šCaffeine")]),t._v(" "),a("li",[t._v("æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafka 2.13-2.7.0")]),t._v(" "),a("li",[t._v("æœç´¢å¼•æ“ï¼šElasticsearch 6.4.3")]),t._v(" "),a("li",[t._v("å®‰å…¨ï¼šSpring Security")]),t._v(" "),a("li",[t._v("é‚®ä»¶ï¼šSpring Mail")]),t._v(" "),a("li",[t._v("åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼šSpring Quartz")])]),t._v(" "),a("p",[t._v("å‰ç«¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Thymeleaf")]),t._v(" "),a("li",[t._v("Bootstrap 4.x")]),t._v(" "),a("li",[t._v("Jquery")]),t._v(" "),a("li",[t._v("Ajax")])]),t._v(" "),a("h2",{attrs:{id:"ğŸ”¨-å¼€å‘ç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”¨-å¼€å‘ç¯å¢ƒ"}},[t._v("#")]),t._v(" ğŸ”¨ å¼€å‘ç¯å¢ƒ")]),t._v(" "),a("ul",[a("li",[t._v("æ“ä½œç³»ç»Ÿï¼šWindows 10")]),t._v(" "),a("li",[t._v("æ„å»ºå·¥å…·ï¼šApache Maven")]),t._v(" "),a("li",[t._v("é›†æˆå¼€å‘å·¥å…·ï¼šIntellij IDEA")]),t._v(" "),a("li",[t._v("æ•°æ®åº“ï¼šMySQL 5.7")]),t._v(" "),a("li",[t._v("åº”ç”¨æœåŠ¡å™¨ï¼šApache Tomcat")]),t._v(" "),a("li",[t._v("æ¥å£æµ‹è¯•å·¥å…·ï¼šPostman")]),t._v(" "),a("li",[t._v("å‹åŠ›æµ‹è¯•å·¥å…·ï¼šApache JMeter")]),t._v(" "),a("li",[t._v("ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼šGit")])]),t._v(" "),a("h2",{attrs:{id:"ğŸ¨-åŠŸèƒ½åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¨-åŠŸèƒ½åˆ—è¡¨"}},[t._v("#")]),t._v(" ğŸ¨ åŠŸèƒ½åˆ—è¡¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208222403.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("[x] "),a("strong",[t._v("æ³¨å†Œ")])]),t._v(" "),a("ul",[a("li",[t._v("ç”¨æˆ·æ³¨å†ŒæˆåŠŸï¼Œå°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥ MySQLï¼Œä½†æ­¤æ—¶è¯¥ç”¨æˆ·çŠ¶æ€ä¸ºæœªæ¿€æ´»")]),t._v(" "),a("li",[t._v("å‘ç”¨æˆ·å‘é€æ¿€æ´»é‚®ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥åˆ™æ¿€æ´»è´¦å·ï¼ˆSpring Mailï¼‰")])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç™»å½• | ç™»å‡º")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("è¿›å…¥ç™»å½•ç•Œé¢ï¼ŒåŠ¨æ€ç”ŸæˆéªŒè¯ç ï¼Œå¹¶å°†éªŒè¯ç çŸ­æš‚å­˜å…¥ Redisï¼ˆ60 ç§’ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å½•æˆåŠŸï¼ˆéªŒè¯ç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç ï¼‰ï¼Œç”Ÿæˆç™»å½•å‡­è¯ä¸”è®¾ç½®çŠ¶æ€ä¸ºæœ‰æ•ˆï¼Œå¹¶å°†ç™»å½•å‡­è¯å­˜å…¥ Redis")]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼šç™»å½•å‡­è¯å­˜åœ¨æœ‰æ•ˆæœŸï¼Œåœ¨æ‰€æœ‰çš„è¯·æ±‚æ‰§è¡Œä¹‹å‰ï¼Œéƒ½ä¼šæ£€æŸ¥å‡­è¯æ˜¯å¦æœ‰æ•ˆå’Œæ˜¯å¦è¿‡æœŸï¼Œåªè¦è¯¥ç”¨æˆ·çš„å‡­è¯æœ‰æ•ˆå¹¶åœ¨æœ‰æ•ˆæœŸæ—¶é—´å†…ï¼Œæœ¬æ¬¡è¯·æ±‚å°±ä¼šä¸€ç›´æŒæœ‰è¯¥ç”¨æˆ·ä¿¡æ¯ï¼ˆä½¿ç”¨ ThreadLocal æŒæœ‰ç”¨æˆ·ä¿¡æ¯ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("å‹¾é€‰è®°ä½æˆ‘ï¼Œåˆ™å»¶é•¿ç™»å½•å‡­è¯æœ‰æ•ˆæ—¶é—´")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œå°†ç”¨æˆ·ä¿¡æ¯çŸ­æš‚å­˜å…¥ Redisï¼ˆ1 å°æ—¶ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å‡ºï¼Œå°†å‡­è¯çŠ¶æ€è®¾ä¸ºæ— æ•ˆï¼Œå¹¶æ›´æ–° Redis ä¸­è¯¥ç”¨æˆ·çš„ç™»å½•å‡­è¯ä¿¡æ¯")])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("è´¦å·è®¾ç½®")])]),t._v(" "),a("ul",[a("li",[t._v("ä¿®æ”¹å¤´åƒ\n"),a("ul",[a("li",[t._v("å°†ç”¨æˆ·é€‰æ‹©çš„å¤´åƒå›¾ç‰‡æ–‡ä»¶ä¸Šä¼ è‡³ä¸ƒç‰›äº‘æœåŠ¡å™¨")])])]),t._v(" "),a("li",[t._v("ä¿®æ”¹å¯†ç ")])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("å¸–å­æ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("å‘å¸ƒå¸–å­ï¼ˆè¿‡æ»¤æ•æ„Ÿè¯ï¼‰ï¼Œå°†å…¶å­˜å…¥ MySQL")]),t._v(" "),a("li",[t._v("åˆ†é¡µæ˜¾ç¤ºæ‰€æœ‰çš„å¸–å­\n"),a("ul",[a("li",[t._v("æ”¯æŒæŒ‰ç…§ â€œå‘å¸–æ—¶é—´â€ æ˜¾ç¤º")]),t._v(" "),a("li",[t._v("æ”¯æŒæŒ‰ç…§ â€œçƒ­åº¦æ’è¡Œâ€ æ˜¾ç¤ºï¼ˆSpring Quartzï¼‰")])])]),t._v(" "),a("li",[t._v("æŸ¥çœ‹å¸–å­è¯¦æƒ…")]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Security + Thymeleaf Securityï¼‰\n"),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•å‘å¸–")]),t._v(" "),a("li",[t._v("â€œç‰ˆä¸»â€ å¯ä»¥çœ‹åˆ°å¸–å­çš„ç½®é¡¶å’ŒåŠ ç²¾æŒ‰é’®å¹¶æ‰§è¡Œç›¸åº”æ“ä½œ")]),t._v(" "),a("li",[t._v("â€œç®¡ç†å‘˜â€ å¯ä»¥çœ‹åˆ°å¸–å­çš„åˆ é™¤æŒ‰é’®å¹¶æ‰§è¡Œç›¸åº”æ“ä½œ")]),t._v(" "),a("li",[t._v("â€œæ™®é€šç”¨æˆ·â€ æ— æ³•çœ‹åˆ°å¸–å­çš„ç½®é¡¶ã€åŠ ç²¾ã€åˆ é™¤æŒ‰é’®ï¼Œä¹Ÿæ— æ³•æ‰§è¡Œç›¸åº”æ“ä½œ")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("è¯„è®ºæ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("å‘å¸ƒå¯¹å¸–å­çš„è¯„è®ºï¼ˆè¿‡æ»¤æ•æ„Ÿè¯ï¼‰ï¼Œå°†å…¶å­˜å…¥ MySQL")]),t._v(" "),a("li",[t._v("åˆ†é¡µæ˜¾ç¤ºè¯„è®º")]),t._v(" "),a("li",[t._v("å‘å¸ƒå¯¹è¯„è®ºçš„å›å¤ï¼ˆè¿‡æ»¤æ•æ„Ÿè¯ï¼‰")]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰\n"),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•ä½¿ç”¨è¯„è®ºåŠŸèƒ½")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç§ä¿¡æ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("å‘é€ç§ä¿¡ï¼ˆè¿‡æ»¤æ•æ„Ÿè¯ï¼‰")]),t._v(" "),a("li",[t._v("ç§ä¿¡åˆ—è¡¨\n"),a("ul",[a("li",[t._v("æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„ä¼šè¯åˆ—è¡¨")]),t._v(" "),a("li",[t._v("æ¯ä¸ªä¼šè¯åªæ˜¾ç¤ºä¸€æ¡æœ€æ–°çš„ç§ä¿¡")]),t._v(" "),a("li",[t._v("æ”¯æŒåˆ†é¡µæ˜¾ç¤º")])])]),t._v(" "),a("li",[t._v("ç§ä¿¡è¯¦æƒ…\n"),a("ul",[a("li",[t._v("æŸ¥è¯¢æŸä¸ªä¼šè¯æ‰€åŒ…å«çš„æ‰€æœ‰ç§ä¿¡")]),t._v(" "),a("li",[t._v("è®¿é—®ç§ä¿¡è¯¦æƒ…æ—¶ï¼Œå°†æ˜¾ç¤ºçš„ç§ä¿¡è®¾ä¸ºå·²è¯»çŠ¶æ€")]),t._v(" "),a("li",[t._v("æ”¯æŒåˆ†é¡µæ˜¾ç¤º")])])]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰\n"),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç§ä¿¡åŠŸèƒ½")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç»Ÿä¸€å¤„ç† 404 / 500 å¼‚å¸¸")])]),t._v(" "),a("ul",[a("li",[t._v("æ™®é€šè¯·æ±‚å¼‚å¸¸")]),t._v(" "),a("li",[t._v("å¼‚æ­¥è¯·æ±‚å¼‚å¸¸")])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç»Ÿä¸€è®°å½•æ—¥å¿—")])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç‚¹èµæ¨¡å—")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æ”¯æŒå¯¹å¸–å­ã€è¯„è®º/å›å¤ç‚¹èµ")])]),t._v(" "),a("li",[a("p",[t._v("ç¬¬ 1 æ¬¡ç‚¹èµï¼Œç¬¬ 2 æ¬¡å–æ¶ˆç‚¹èµ")])]),t._v(" "),a("li",[a("p",[t._v("é¦–é¡µç»Ÿè®¡å¸–å­çš„ç‚¹èµæ•°é‡")])]),t._v(" "),a("li",[a("p",[t._v("è¯¦æƒ…é¡µç»Ÿè®¡å¸–å­å’Œè¯„è®º/å›å¤çš„ç‚¹èµæ•°é‡")])]),t._v(" "),a("li",[a("p",[t._v("è¯¦æƒ…é¡µæ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„ç‚¹èµçŠ¶æ€ï¼ˆèµè¿‡äº†åˆ™æ˜¾ç¤ºå·²èµï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç»Ÿè®¡æˆ‘çš„è·èµæ•°é‡")])]),t._v(" "),a("li",[a("p",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç‚¹èµç›¸å…³åŠŸèƒ½")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("å…³æ³¨æ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("å…³æ³¨åŠŸèƒ½")]),t._v(" "),a("li",[t._v("å–æ¶ˆå…³æ³¨åŠŸèƒ½")]),t._v(" "),a("li",[t._v("ç»Ÿè®¡ç”¨æˆ·çš„å…³æ³¨æ•°å’Œç²‰ä¸æ•°")]),t._v(" "),a("li",[t._v("æˆ‘çš„å…³æ³¨åˆ—è¡¨ï¼ˆæŸ¥è¯¢æŸä¸ªç”¨æˆ·å…³æ³¨çš„äººï¼‰ï¼Œæ”¯æŒåˆ†é¡µ")]),t._v(" "),a("li",[t._v("æˆ‘çš„ç²‰ä¸åˆ—è¡¨ï¼ˆæŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„ç²‰ä¸ï¼‰ï¼Œæ”¯æŒåˆ†é¡µ")]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰\n"),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•ä½¿ç”¨å…³æ³¨ç›¸å…³åŠŸèƒ½")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç³»ç»Ÿé€šçŸ¥æ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("é€šçŸ¥åˆ—è¡¨\n"),a("ul",[a("li",[t._v("æ˜¾ç¤ºè¯„è®ºã€ç‚¹èµã€å…³æ³¨ä¸‰ç§ç±»å‹çš„é€šçŸ¥")])])]),t._v(" "),a("li",[t._v("é€šçŸ¥è¯¦æƒ…\n"),a("ul",[a("li",[t._v("åˆ†é¡µæ˜¾ç¤ºæŸä¸€ç±»ä¸»é¢˜æ‰€åŒ…å«çš„é€šçŸ¥")]),t._v(" "),a("li",[t._v("è¿›å…¥æŸç§ç±»å‹çš„ç³»ç»Ÿé€šçŸ¥è¯¦æƒ…ï¼Œåˆ™å°†è¯¥é¡µçš„æ‰€æœ‰æœªè¯»çš„ç³»ç»Ÿé€šçŸ¥çŠ¶æ€è®¾ç½®ä¸ºå·²è¯»")])])]),t._v(" "),a("li",[t._v("æœªè¯»æ•°é‡\n"),a("ul",[a("li",[t._v("åˆ†åˆ«æ˜¾ç¤ºæ¯ç§ç±»å‹çš„ç³»ç»Ÿé€šçŸ¥çš„æœªè¯»æ•°é‡")]),t._v(" "),a("li",[t._v("æ˜¾ç¤ºæ‰€æœ‰ç³»ç»Ÿé€šçŸ¥çš„æœªè¯»æ•°é‡")])])]),t._v(" "),a("li",[t._v("å¯¼èˆªæ æ˜¾ç¤ºæ‰€æœ‰æ¶ˆæ¯çš„æœªè¯»æ•°é‡ï¼ˆæœªè¯»ç§ä¿¡ + æœªè¯»ç³»ç»Ÿé€šçŸ¥ï¼‰")]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰\n"),a("ul",[a("li",[t._v("æœªç™»å½•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("æœç´¢æ¨¡å—")])]),t._v(" "),a("ul",[a("li",[t._v("å‘å¸ƒäº‹ä»¶\n"),a("ul",[a("li",[t._v("å‘å¸ƒå¸–å­æ—¶ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å°†å¸–å­å¼‚æ­¥åœ°æäº¤åˆ° Elasticsearch æœåŠ¡å™¨")]),t._v(" "),a("li",[t._v("ä¸ºå¸–å­å¢åŠ è¯„è®ºæ—¶ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å°†å¸–å­å¼‚æ­¥åœ°æäº¤åˆ° Elasticsearch æœåŠ¡å™¨")])])]),t._v(" "),a("li",[t._v("æœç´¢æœåŠ¡\n"),a("ul",[a("li",[t._v("ä» Elasticsearch æœåŠ¡å™¨æœç´¢å¸–å­")]),t._v(" "),a("li",[t._v("ä» Elasticsearch æœåŠ¡å™¨åˆ é™¤å¸–å­ï¼ˆå½“å¸–å­ä»æ•°æ®åº“ä¸­è¢«åˆ é™¤æ—¶ï¼‰")])])]),t._v(" "),a("li",[t._v("æ˜¾ç¤ºæœç´¢ç»“æœ")])])]),t._v(" "),a("li",[a("p",[t._v("[x] "),a("strong",[t._v("ç½‘ç«™æ•°æ®ç»Ÿè®¡")]),t._v("ï¼ˆç®¡ç†å‘˜ä¸“å±ï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("ç‹¬ç«‹è®¿å®¢ UV\n"),a("ul",[a("li",[t._v("å­˜å…¥ Redis çš„ HyperLogLog")]),t._v(" "),a("li",[t._v("æ”¯æŒå•æ—¥æŸ¥è¯¢å’ŒåŒºé—´æ—¥æœŸæŸ¥è¯¢")])])]),t._v(" "),a("li",[t._v("æ—¥æ´»è·ƒç”¨æˆ· DAU\n"),a("ul",[a("li",[t._v("å­˜å…¥ Redis çš„ Bitmap")]),t._v(" "),a("li",[t._v("æ”¯æŒå•æ—¥æŸ¥è¯¢å’ŒåŒºé—´æ—¥æœŸæŸ¥è¯¢")])])]),t._v(" "),a("li",[t._v("æƒé™ç®¡ç†ï¼ˆSpring Securityï¼‰\n"),a("ul",[a("li",[t._v("åªæœ‰ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹ç½‘ç«™æ•°æ®ç»Ÿè®¡")])])])])]),t._v(" "),a("li",[a("p",[t._v("[x] ä¼˜åŒ–ç½‘ç«™æ€§èƒ½")]),t._v(" "),a("ul",[a("li",[t._v("ä½¿ç”¨æœ¬åœ°ç¼“å­˜ Caffeine ç¼“å­˜çƒ­å¸–åˆ—è¡¨ä»¥åŠæ‰€æœ‰ç”¨æˆ·å¸–å­çš„æ€»æ•°")])])])]),t._v(" "),a("h2",{attrs:{id:"ğŸ”-å¾…å®ç°åŠä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-å¾…å®ç°åŠä¼˜åŒ–"}},[t._v("#")]),t._v(" ğŸ” å¾…å®ç°åŠä¼˜åŒ–")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººå‘ç°çš„æœ¬é¡¹ç›®å­˜åœ¨çš„é—®é¢˜ï¼Œä½†æ˜¯æš‚æ—¶æ²¡æœ‰å¤´ç»ªæ— æ³•è§£å†³ï¼Œé›†æ€å¹¿ç›Šï¼Œæ¬¢è¿å„ä½å°ä¼™ä¼´æ PR è§£å†³ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("[ ] æ³¨å†Œæ¨¡å—æ— æ³•æ­£å¸¸è·³è½¬åˆ°æ“ä½œæç¤ºç•Œé¢ï¼ˆæœ¬åœ°è¿è¡Œæ²¡æœ‰é—®é¢˜ï¼‰")]),t._v(" "),a("li",[t._v("[ ] è¯„è®ºåŠŸèƒ½çš„å‰ç«¯æ˜¾ç¤ºéƒ¨åˆ†å­˜åœ¨ Bug")]),t._v(" "),a("li",[t._v("[ ] æŸ¥è¯¢æˆ‘çš„è¯„è®ºï¼ˆæœªå®Œå–„ï¼‰")])]),t._v(" "),a("p",[t._v("ä»¥ä¸‹æ˜¯æˆ‘è§‰å¾—æœ¬é¡¹ç›®è¿˜å¯ä»¥æ·»åŠ çš„åŠŸèƒ½ï¼ŒåŒæ ·æ¬¢è¿å„ä½å°ä¼™ä¼´æ issue æŒ‡å‡ºè¿˜å¯ä»¥å¢åŠ å“ªäº›åŠŸèƒ½ï¼Œæˆ–è€…ç›´æ¥æ PR å®ç°è¯¥åŠŸèƒ½ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("[ ] å¿˜è®°å¯†ç ï¼ˆå‘é€é‚®ä»¶æ‰¾å›å¯†ç ï¼‰")]),t._v(" "),a("li",[t._v("[ ] æŸ¥è¯¢æˆ‘çš„ç‚¹èµ")]),t._v(" "),a("li",[t._v("[ ] ç®¡ç†å‘˜å¯¹å¸–å­çš„äºŒæ¬¡ç‚¹å‡»å–æ¶ˆç½®é¡¶åŠŸèƒ½")]),t._v(" "),a("li",[t._v("[ ] ç®¡ç†å‘˜å¯¹å·²åˆ é™¤å¸–å­çš„æ¢å¤åŠŸèƒ½ï¼ˆæœ¬é¡¹ç›®ä¸­çš„åˆ é™¤å¸–å­å¹¶æœªå°†å…¶ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œåªæ˜¯å°†å…¶çŠ¶æ€è®¾ç½®ä¸ºäº†æ‹‰é»‘ï¼‰")])]),t._v(" "),a("h2",{attrs:{id:"ğŸ€-ç•Œé¢å±•ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ€-ç•Œé¢å±•ç¤º"}},[t._v("#")]),t._v(" ğŸ€ ç•Œé¢å±•ç¤º")]),t._v(" "),a("h2",{attrs:{id:"ğŸŒ±-æœ¬åœ°è¿è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ±-æœ¬åœ°è¿è¡Œ"}},[t._v("#")]),t._v(" ğŸŒ± æœ¬åœ°è¿è¡Œ")]),t._v(" "),a("p",[t._v("å„ä½å¦‚æœéœ€è¦å°†é¡¹ç›®éƒ¨ç½²åœ¨æœ¬åœ°è¿›è¡Œæµ‹è¯•ï¼Œä»¥ä¸‹ç¯å¢ƒè¯·æå‰å¤‡å¥½ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Java 8")]),t._v(" "),a("li",[t._v("MySQL 5.7")]),t._v(" "),a("li",[t._v("Redis")]),t._v(" "),a("li",[t._v("Kafka 2.13-2.7.0")]),t._v(" "),a("li",[t._v("Elasticsearch 6.4.3")])]),t._v(" "),a("p",[t._v("ç„¶å"),a("strong",[t._v("ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ä¿¡æ¯ä¸ºä½ è‡ªå·±çš„æœ¬åœ°ç¯å¢ƒï¼Œç›´æ¥è¿è¡Œæ˜¯è¿è¡Œä¸äº†çš„")]),t._v("ï¼Œè€Œä¸”ç›¸å…³ç§å¯†ä¿¡æ¯æˆ‘å…¨éƒ¨ç”¨ xxxxxxx ä»£æ›¿äº†ã€‚")]),t._v(" "),a("p",[t._v("æœ¬åœ°è¿è¡Œéœ€è¦ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ä¿¡æ¯å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("1ï¼‰"),a("code",[t._v("application-develop.properties")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("MySQL")]),t._v(" "),a("li",[t._v("Spring Mailï¼ˆé‚®ç®±éœ€è¦å¼€å¯ SMTP æœåŠ¡ï¼‰")]),t._v(" "),a("li",[t._v("Kafkaï¼šconsumer.group-idï¼ˆè¯¥å­—æ®µè§ Kafka å®‰è£…åŒ…ä¸­çš„ consumer.proertiesï¼Œå¯è‡ªè¡Œä¿®æ”¹, ä¿®æ”¹å®Œæ¯•åéœ€è¦é‡å¯ Kafkaï¼‰")]),t._v(" "),a("li",[t._v("Elasticsearchï¼šcluster-nameï¼ˆè¯¥å­—æ®µè§ Elasticsearch å®‰è£…åŒ…ä¸­çš„ elasticsearch.ymlï¼Œå¯è‡ªè¡Œä¿®æ”¹ï¼‰")]),t._v(" "),a("li",[t._v("ä¸ƒç‰›äº‘ï¼ˆéœ€è¦æ–°å»ºä¸€ä¸ªä¸ƒç‰›äº‘çš„å¯¹è±¡å­˜å‚¨ç©ºé—´ï¼Œç”¨æ¥å­˜æ”¾ä¸Šä¼ çš„å¤´åƒå›¾ç‰‡ï¼‰")])]),t._v(" "),a("p",[t._v("2ï¼‰"),a("code",[t._v("logback-spring-develop.xml")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("LOG_PATHï¼šæ—¥å¿—å­˜æ”¾çš„ä½ç½®")])]),t._v(" "),a("p",[t._v("æ¯æ¬¡è¿è¡Œéœ€è¦æ‰“å¼€ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("MySQL")]),t._v(" "),a("li",[t._v("Redis")]),t._v(" "),a("li",[t._v("Elasticsearch")]),t._v(" "),a("li",[t._v("Kafka")])]),t._v(" "),a("h2",{attrs:{id:"ğŸ“œ-æ•°æ®åº“è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“œ-æ•°æ®åº“è®¾è®¡"}},[t._v("#")]),t._v(" ğŸ“œ æ•°æ®åº“è®¾è®¡")]),t._v(" "),a("p",[t._v("ç”¨æˆ· "),a("code",[t._v("user")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" character_set_client "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-æ™®é€šç”¨æˆ·; 1-è¶…çº§ç®¡ç†å‘˜; 2-ç‰ˆä¸»;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-æœªæ¿€æ´»; 1-å·²æ¿€æ´»;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("activation_code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("header_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è®¨è®ºå¸– "),a("code",[t._v("discuss_post")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("discuss_post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" character_set_client "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("discuss_post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-æ™®é€š; 1-ç½®é¡¶;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-æ­£å¸¸; 1-ç²¾å; 2-æ‹‰é»‘;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("comment_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("score"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¯„è®ºï¼ˆå›å¤ï¼‰"),a("code",[t._v("comment")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("entity_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯„è®ºç›®æ ‡çš„ç±»åˆ«ï¼š1 å¸–å­ï¼›2 è¯„è®º '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("entity_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯„è®ºç›®æ ‡çš„ id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("target_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æŒ‡æ˜å¯¹è°è¿›è¡Œè¯„è®º'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'çŠ¶æ€ï¼š0 æ­£å¸¸ï¼›1 ç¦ç”¨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_entity_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("entity_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("247")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ç§ä¿¡ "),a("code",[t._v("message")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" character_set_client "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("from_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("to_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("conversation_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-æœªè¯»;1-å·²è¯»;2-åˆ é™¤;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_from_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("from_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_to_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("to_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("index_conversation_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("conversation_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"ğŸ¯-åŠŸèƒ½é€»è¾‘å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-åŠŸèƒ½é€»è¾‘å›¾"}},[t._v("#")]),t._v(" ğŸ¯ åŠŸèƒ½é€»è¾‘å›¾")]),t._v(" "),a("p",[t._v("ç”»äº†ä¸€äº›ä¸æ˜¯é‚£ä¹ˆä¸¥è°¨çš„å›¾å¸®åŠ©å„ä½å°ä¼™ä¼´ç†æ¸…æ€ç»ªã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å•å‘ç»¿è‰²ç®­å¤´ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å‰ç«¯æ¨¡æ¿ -> Controllerï¼šè¡¨ç¤ºè¿™ä¸ªå‰ç«¯æ¨¡æ¿ä¸­æœ‰ä¸€ä¸ªè¶…é“¾æ¥æ˜¯ç”±è¿™ä¸ª Controller å¤„ç†çš„")]),t._v(" "),a("li",[t._v("Controller -> å‰ç«¯æ¨¡æ¿ï¼šè¡¨ç¤ºè¿™ä¸ª Controller ä¼šåƒè¯¥å‰ç«¯æ¨¡æ¿ä¼ é€’æ•°æ®æˆ–è€…è·³è½¬")])]),t._v(" "),a("p",[t._v("åŒå‘ç»¿è‰²ç®­å¤´ï¼šè¡¨ç¤º Controller å’Œå‰ç«¯æ¨¡æ¿ä¹‹é—´è¿›è¡Œå‚æ•°çš„ç›¸äº’ä¼ é€’æˆ–ä½¿ç”¨")]),t._v(" "),a("p",[t._v("å•å‘è“è‰²ç®­å¤´ï¼š A -> Bï¼Œè¡¨ç¤º A æ–¹æ³•è°ƒç”¨äº† B æ–¹æ³•")]),t._v(" "),a("p",[t._v("å•å‘çº¢è‰²ç®­å¤´ï¼šæ•°æ®åº“æˆ–ç¼“å­˜æ“ä½œ")])]),t._v(" "),a("h3",{attrs:{id:"æ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œ"}},[t._v("#")]),t._v(" æ³¨å†Œ")]),t._v(" "),a("ul",[a("li",[t._v("ç”¨æˆ·æ³¨å†ŒæˆåŠŸï¼Œå°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥ MySQLï¼Œä½†æ­¤æ—¶è¯¥ç”¨æˆ·çŠ¶æ€ä¸ºæœªæ¿€æ´»")]),t._v(" "),a("li",[t._v("å‘ç”¨æˆ·å‘é€æ¿€æ´»é‚®ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥åˆ™æ¿€æ´»è´¦å·ï¼ˆSpring Mailï¼‰")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210204222249.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"ç™»å½•-ç™»å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç™»å½•-ç™»å‡º"}},[t._v("#")]),t._v(" ç™»å½• | ç™»å‡º")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("è¿›å…¥ç™»å½•ç•Œé¢ï¼ŒåŠ¨æ€ç”ŸæˆéªŒè¯ç ï¼Œå¹¶å°†éªŒè¯ç çŸ­æš‚å­˜å…¥ Redisï¼ˆ60 ç§’ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å½•æˆåŠŸï¼ˆéªŒè¯ç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç ï¼‰ï¼Œç”Ÿæˆç™»å½•å‡­è¯ä¸”è®¾ç½®çŠ¶æ€ä¸ºæœ‰æ•ˆï¼Œå¹¶å°†ç™»å½•å‡­è¯å­˜å…¥ Redis")]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼šç™»å½•å‡­è¯å­˜åœ¨æœ‰æ•ˆæœŸï¼Œåœ¨æ‰€æœ‰çš„è¯·æ±‚æ‰§è¡Œä¹‹å‰ï¼Œéƒ½ä¼šæ£€æŸ¥å‡­è¯æ˜¯å¦æœ‰æ•ˆå’Œæ˜¯å¦è¿‡æœŸï¼Œåªè¦è¯¥ç”¨æˆ·çš„å‡­è¯æœ‰æ•ˆå¹¶åœ¨æœ‰æ•ˆæœŸæ—¶é—´å†…ï¼Œæœ¬æ¬¡è¯·æ±‚å°±ä¼šä¸€ç›´æŒæœ‰è¯¥ç”¨æˆ·ä¿¡æ¯ï¼ˆä½¿ç”¨ ThreadLocal æŒæœ‰ç”¨æˆ·ä¿¡æ¯ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("å‹¾é€‰è®°ä½æˆ‘ï¼Œåˆ™å»¶é•¿ç™»å½•å‡­è¯æœ‰æ•ˆæ—¶é—´")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œå°†ç”¨æˆ·ä¿¡æ¯çŸ­æš‚å­˜å…¥ Redisï¼ˆ1 å°æ—¶ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç”¨æˆ·ç™»å‡ºï¼Œå°†å‡­è¯çŠ¶æ€è®¾ä¸ºæ— æ•ˆï¼Œå¹¶æ›´æ–° Redis ä¸­è¯¥ç”¨æˆ·çš„ç™»å½•å‡­è¯ä¿¡æ¯")])])]),t._v(" "),a("p",[t._v("ä¸‹å›¾æ˜¯ç™»å½•æ¨¡å—çš„åŠŸèƒ½é€»è¾‘å›¾ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨ Spring Security æä¾›çš„è®¤è¯é€»è¾‘ï¼ˆæˆ‘è§‰å¾—è¿™ä¸ªæ¨¡å—æ˜¯æœ€å¤æ‚çš„ï¼Œè¿™å¼ å›¾å…¶å®å¾ˆå¤šç»†èŠ‚è¿˜æ²¡æœ‰ç”»å…¨ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210204233233.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"åˆ†é¡µæ˜¾ç¤ºæ‰€æœ‰çš„å¸–å­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†é¡µæ˜¾ç¤ºæ‰€æœ‰çš„å¸–å­"}},[t._v("#")]),t._v(" åˆ†é¡µæ˜¾ç¤ºæ‰€æœ‰çš„å¸–å­")]),t._v(" "),a("ul",[a("li",[t._v("æ”¯æŒæŒ‰ç…§ â€œå‘å¸–æ—¶é—´â€ æ˜¾ç¤º")]),t._v(" "),a("li",[t._v("æ”¯æŒæŒ‰ç…§ â€œçƒ­åº¦æ’è¡Œâ€ æ˜¾ç¤ºï¼ˆSpring Quartzï¼‰")]),t._v(" "),a("li",[t._v("å°†çƒ­å¸–åˆ—è¡¨å’Œæ‰€æœ‰å¸–å­çš„æ€»æ•°å­˜å…¥æœ¬åœ°ç¼“å­˜ Caffeineï¼ˆåˆ©ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ Spring Quartz æ¯éš”ä¸€æ®µæ—¶é—´å°±åˆ·æ–°è®¡ç®—å¸–å­çš„çƒ­åº¦/åˆ†æ•° â€” è§ä¸‹æ–‡ï¼Œè€Œ Caffeine é‡Œçš„æ•°æ®æ›´æ–°ä¸ç”¨æˆ‘ä»¬æ“å¿ƒï¼Œå®ƒå¤©ç”Ÿå°±ä¼šè‡ªåŠ¨çš„æ›´æ–°å®ƒæ‹¥æœ‰çš„æ•°æ®ï¼Œç»™å®ƒä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•å°±å®Œäº‹å„¿ï¼‰")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210204222822.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"è´¦å·è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è´¦å·è®¾ç½®"}},[t._v("#")]),t._v(" è´¦å·è®¾ç½®")]),t._v(" "),a("ul",[a("li",[t._v("ä¿®æ”¹å¤´åƒï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰\n"),a("ul",[a("li",[t._v("å°†ç”¨æˆ·é€‰æ‹©çš„å¤´åƒå›¾ç‰‡æ–‡ä»¶ä¸Šä¼ è‡³ä¸ƒç‰›äº‘æœåŠ¡å™¨")])])]),t._v(" "),a("li",[t._v("ä¿®æ”¹å¯†ç ")])]),t._v(" "),a("p",[t._v("æ­¤å¤„åªç”»å‡ºä¿®æ”¹å¤´åƒï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210206121201.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å‘å¸ƒå¸–å­-å¼‚æ­¥è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘å¸ƒå¸–å­-å¼‚æ­¥è¯·æ±‚"}},[t._v("#")]),t._v(" å‘å¸ƒå¸–å­ï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210206122521.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"æ˜¾ç¤ºè¯„è®ºåŠç›¸å…³ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¾ç¤ºè¯„è®ºåŠç›¸å…³ä¿¡æ¯"}},[t._v("#")]),t._v(" æ˜¾ç¤ºè¯„è®ºåŠç›¸å…³ä¿¡æ¯")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯„è®ºéƒ¨åˆ†å‰ç«¯çš„åç§°æ˜¾ç¤ºæœ‰äº›ç¼ºé™·ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´æ¬¢è¿æ PR è§£å†³~")])]),t._v(" "),a("p",[t._v("å…³äºè¯„è®ºæ¨¡å—éœ€è¦æ³¨æ„çš„å°±æ˜¯è¯„è®ºè¡¨çš„è®¾è®¡ï¼ŒæŠŠæ¡å…¶ä¸­å­—æ®µçš„å«ä¹‰ï¼Œæ‰èƒ½é€å½»äº†è§£è¿™ä¸ªåŠŸèƒ½çš„é€»è¾‘ã€‚")]),t._v(" "),a("p",[t._v("è¯„è®º Comment çš„ç›®æ ‡ç±»å‹ï¼ˆå¸–å­ï¼Œè¯„è®ºï¼‰ entityType å’Œ entityId ä»¥åŠå¯¹å“ªä¸ªç”¨æˆ·è¿›è¡Œè¯„è®º/å›å¤ targetId æ˜¯ç”±å‰ç«¯ä¼ é€’ç»™ DiscussPostController çš„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207150925.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸€ä¸ªå¸–å­çš„è¯¦æƒ…é¡µéœ€è¦å°è£…çš„ä¿¡æ¯å¤§æ¦‚å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207151328.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"æ·»åŠ è¯„è®º-äº‹åŠ¡ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ è¯„è®º-äº‹åŠ¡ç®¡ç†"}},[t._v("#")]),t._v(" æ·»åŠ è¯„è®ºï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207122908.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"ç§ä¿¡åˆ—è¡¨å’Œè¯¦æƒ…é¡µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç§ä¿¡åˆ—è¡¨å’Œè¯¦æƒ…é¡µ"}},[t._v("#")]),t._v(" ç§ä¿¡åˆ—è¡¨å’Œè¯¦æƒ…é¡µ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207161130.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å‘é€ç§ä¿¡-å¼‚æ­¥è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘é€ç§ä¿¡-å¼‚æ­¥è¯·æ±‚"}},[t._v("#")]),t._v(" å‘é€ç§ä¿¡ï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207161500.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"ç‚¹èµ-å¼‚æ­¥è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹èµ-å¼‚æ­¥è¯·æ±‚"}},[t._v("#")]),t._v(" ç‚¹èµï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰")]),t._v(" "),a("p",[t._v("å°†ç‚¹èµç›¸å…³ä¿¡æ¯å­˜å…¥ Redis çš„æ•°æ®ç»“æ„ set ä¸­ã€‚å…¶ä¸­ï¼Œkey å‘½åä¸º  "),a("code",[t._v("like:entity:entityType:entityId")]),t._v("ï¼Œvalue å³ç‚¹èµç”¨æˆ·çš„ idã€‚æ¯”å¦‚ key =  "),a("code",[t._v("like:entity:2:246")]),t._v("  value =  "),a("code",[t._v("11")]),t._v(" è¡¨ç¤ºç”¨æˆ· 11 å¯¹å®ä½“ç±»å‹ 2 å³è¯„è®ºè¿›è¡Œäº†ç‚¹èµï¼Œè¯¥è¯„è®ºçš„ id æ˜¯ 246")]),t._v(" "),a("p",[t._v("æŸä¸ªç”¨æˆ·çš„è·èµæ•°é‡å¯¹åº”çš„å­˜å‚¨åœ¨ Redis ä¸­çš„ key æ˜¯ "),a("code",[t._v("like:user:userId")]),t._v("ï¼Œvalue å°±æ˜¯è¿™ä¸ªç”¨æˆ·çš„è·èµæ•°é‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207165837.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"æˆ‘çš„è·èµæ•°é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„è·èµæ•°é‡"}},[t._v("#")]),t._v(" æˆ‘çš„è·èµæ•°é‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207170003.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å…³æ³¨-å¼‚æ­¥è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³æ³¨-å¼‚æ­¥è¯·æ±‚"}},[t._v("#")]),t._v(" å…³æ³¨ï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("è‹¥ A å…³æ³¨äº† Bï¼Œåˆ™ A æ˜¯ B çš„ç²‰ä¸ Followerï¼ŒB æ˜¯ A çš„ç›®æ ‡ Followee")]),t._v(" "),a("li",[t._v("å…³æ³¨çš„ç›®æ ‡å¯ä»¥æ˜¯ç”¨æˆ·ã€å¸–å­ã€é¢˜ç›®ç­‰ï¼Œåœ¨å®ç°æ—¶å°†è¿™äº›ç›®æ ‡æŠ½è±¡ä¸ºå®ä½“ï¼ˆç›®å‰åªåšäº†å…³æ³¨ç”¨æˆ·ï¼‰")])]),t._v(" "),a("p",[t._v("å°†æŸä¸ªç”¨æˆ·å…³æ³¨çš„å®ä½“ç›¸å…³ä¿¡æ¯å­˜å‚¨åœ¨ Redis çš„æ•°æ®ç»“æ„ zset ä¸­ï¼škey æ˜¯ "),a("code",[t._v("followee:userId:entityType")]),t._v(" ï¼Œå¯¹åº”çš„ value æ˜¯ "),a("code",[t._v("zset(entityId, now)")]),t._v(" ï¼Œä»¥å…³æ³¨çš„æ—¶é—´è¿›è¡Œæ’åºã€‚æ¯”å¦‚è¯´ "),a("code",[t._v("followee:111:3")]),t._v(" å¯¹åº”çš„value "),a("code",[t._v("(20, 2020-02-03-xxxx)")]),t._v("ï¼Œè¡¨æ˜ç”¨æˆ· 111 å…³æ³¨äº†å®ä½“ç±»å‹ä¸º 3 å³äºº(ç”¨æˆ·)ï¼Œè¯¥å¸–å­çš„ id æ˜¯ 20ï¼Œå…³æ³¨è¯¥å¸–å­çš„æ—¶é—´æ˜¯ 2020-02-03-xxxx")]),t._v(" "),a("p",[t._v("åŒæ ·çš„ï¼Œå°†æŸä¸ªå®ä½“æ‹¥æœ‰çš„ç²‰ä¸ç›¸å…³ä¿¡æ¯ä¹Ÿå­˜å‚¨åœ¨ Redis çš„æ•°æ®ç»“æ„ zset ä¸­ï¼škey æ˜¯ "),a("code",[t._v("follower:entityType:entityId")]),t._v("ï¼Œå¯¹åº”çš„ value æ˜¯ "),a("code",[t._v("zset(userId, now)")]),t._v("ï¼Œä»¥å…³æ³¨çš„æ—¶é—´è¿›è¡Œæ’åº")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207174046.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å…³æ³¨åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³æ³¨åˆ—è¡¨"}},[t._v("#")]),t._v(" å…³æ³¨åˆ—è¡¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207175621.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å‘é€ç³»ç»Ÿé€šçŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘é€ç³»ç»Ÿé€šçŸ¥"}},[t._v("#")]),t._v(" å‘é€ç³»ç»Ÿé€šçŸ¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210207182917.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥"}},[t._v("#")]),t._v(" æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208153059.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"æœç´¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœç´¢"}},[t._v("#")]),t._v(" æœç´¢")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208161936.png",alt:""}})]),t._v(" "),a("p",[t._v("ç±»ä¼¼çš„ï¼Œç½®é¡¶ã€åŠ ç²¾ä¹Ÿä¼šè§¦å‘å‘å¸–äº‹ä»¶ï¼Œå°±ä¸å†å›¾é‡Œé¢ç”»å‡ºæ¥äº†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç½®é¡¶åŠ ç²¾åˆ é™¤-å¼‚æ­¥è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç½®é¡¶åŠ ç²¾åˆ é™¤-å¼‚æ­¥è¯·æ±‚"}},[t._v("#")]),t._v(" ç½®é¡¶åŠ ç²¾åˆ é™¤ï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208171729.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"ç½‘ç«™æ•°æ®ç»Ÿè®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç«™æ•°æ®ç»Ÿè®¡"}},[t._v("#")]),t._v(" ç½‘ç«™æ•°æ®ç»Ÿè®¡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208170801.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å¸–å­çƒ­åº¦è®¡ç®—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸–å­çƒ­åº¦è®¡ç®—"}},[t._v("#")]),t._v(" å¸–å­çƒ­åº¦è®¡ç®—")]),t._v(" "),a("p",[t._v("æ¯æ¬¡å‘ç”Ÿç‚¹èµï¼ˆç»™å¸–å­ç‚¹èµï¼‰ã€è¯„è®ºï¼ˆç»™å¸–å­è¯„è®ºï¼‰ã€åŠ ç²¾çš„æ—¶å€™ï¼Œå°±å°†è¿™äº›å¸–å­ä¿¡æ¯å­˜å…¥ç¼“å­˜ Redis ä¸­ï¼Œç„¶åé€šè¿‡åˆ†å¸ƒå¼çš„å®šæ—¶ä»»åŠ¡ Spring Quartzï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å°±ä»ç¼“å­˜ä¸­å–å‡ºè¿™äº›å¸–å­è¿›è¡Œè®¡ç®—åˆ†æ•°ã€‚")]),t._v(" "),a("p",[t._v("å¸–å­åˆ†æ•°/çƒ­åº¦è®¡ç®—å…¬å¼ï¼šåˆ†æ•°ï¼ˆçƒ­åº¦ï¼‰ = æƒé‡ + å‘å¸–è·ç¦»å¤©æ•°")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æƒé‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" w "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wonderful "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" commentCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" likeCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ†æ•° = æƒé‡ + å‘å¸–è·ç¦»å¤©æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" score "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" epoch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208173636.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"ğŸŒŒ-ç†æƒ³çš„éƒ¨ç½²æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŒ-ç†æƒ³çš„éƒ¨ç½²æ¶æ„"}},[t._v("#")]),t._v(" ğŸŒŒ ç†æƒ³çš„éƒ¨ç½²æ¶æ„")]),t._v(" "),a("p",[t._v("æˆ‘åªéƒ¨ç½²äº†ä¸€å°æœåŠ¡å™¨ï¼Œä»¥ä¸‹æ˜¯ç†æƒ³çš„éƒ¨ç½²æ¶æ„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210206215827.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"ğŸ“–-å¸¸è§é¢è¯•é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“–-å¸¸è§é¢è¯•é¢˜"}},[t._v("#")]),t._v(" ğŸ“– å¸¸è§é¢è¯•é¢˜")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210208221333.png",alt:""}})]),t._v(" "),a("p",[t._v("æœ‰æ„æ„¿æ‹¿ç€è¿™ä¸ªé¡¹ç›®å»é¢è¯•ï¼ˆæ ¡æ‹›/ç¤¾æ‹›ï¼‰çš„å°ä¼™ä¼´ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨å…¬ä¼—å·**ã€é£å¤©å°ç‰›è‚‰ã€**ï¼Œè·å–æˆ‘æ•´ç†çš„å…³äºæœ¬é¡¹ç›®æ¶‰åŠçš„å¸¸è§é¢è¯•é¢˜åŠè§£æï¼ˆå°šåœ¨æ›´æ–°ä¸­ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/veal98/images/raw/master/img/20210206220907.png",alt:""}})])])}),[],!1,null,null,null);s.default=e.exports}}]);